let sudoku=[[0,0,0,2,7,0,0,0,0],[0,6,4,1,0,5,0,0,9],[0,7,0,0,0,0,3,0,0],[0,3,1,6,9,0,0,0,0],[0,0,2,0,0,0,4,0,0],[0,0,0,0,2,1,9,3,0],[0,0,8,0,0,0,0,2,0],[9,0,0,5,0,4,7,1,0],[0,0,0,0,8,2,0,0,0]],solution=[];function setup(){create_divs(),redraw(sudoku)}function create_divs(){var e=document.getElementById("grid");for(let o=0;o<9;o++){var s=document.createElement("div");s.classList.add("row"),2!==o&&5!==o||s.classList.add("border-bottom"),s.id="row-"+o,e.appendChild(s);for(let n=0;n<9;n++){var d=document.createElement("div");d.classList.add("cell"),2!==n&&5!==n||d.classList.add("border-right"),d.id=`cell-${n}-`+o,s.appendChild(d);let t=document.createElement("span"),r=(t.id=`span-${n}-`+o,d.appendChild(t),document.createElement("input"));r.setAttribute("type","number"),r.setAttribute("min",0),r.setAttribute("max",9),r.setAttribute("step",1),r.classList.add("hidden"),r.oninput=e=>{sudoku[o][n]=parseInt(e.target.value)},r.onblur=()=>{r.classList.add("hidden"),t.classList.remove("hidden");var e=parseInt(r.value);t.innerHTML=0!==e?""+e:""},d.appendChild(r),d.onclick=()=>{t.classList.add("hidden"),r.classList.remove("hidden")}}}}function redraw(e){e.forEach((e,r)=>{e.forEach((e,t)=>{document.getElementById(`span-${t}-`+r).innerHTML=0!==e?""+e:""})})}function copy_sudoku(e){let t=[];return e.forEach(e=>t.push([...e])),t}function solve_backtracking(){number_of_clues(sudoku)<17?console.log("minimum amount of clues must be 17"):(solve(sudoku),redraw(solution))}function number_of_clues(e){return e.flat().filter(e=>0!==e).length}function solve(e){var n=copy_sudoku(e);for(let r=0;r<9;r++)for(let t=0;t<9;t++)if(0===n[r][t]){for(let e=1;e<10;e++)possible(t,r,e,n)&&(n[r][t]=e,solve(n),n[r][t]=0);return}solution=n}function reset(){redraw(sudoku)}function cl(){redraw(sudoku=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]])}function possible(t,r,n,o){for(let e=0;e<9;e++)if(o[r][e]===n)return!1;for(let e=0;e<9;e++)if(o[e][t]===n)return!1;var s=3*Math.floor(t/3),d=3*Math.floor(r/3);for(let t=0;t<3;t++)for(let e=0;e<3;e++)if(o[d+e][s+t]===n)return!1;return!0}